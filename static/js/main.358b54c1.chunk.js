(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{38:function(n,t,e){n.exports=e(66)},47:function(n,t,e){},66:function(n,t,e){"use strict";e.r(t);var r=e(0),a=e.n(r),o=e(16),i=e.n(o),c=e(17),u=(e(47),e(4)),s=e(5),l=e(7),p=e(6),f=e(8),d=e(18),b=e.n(d),h="https://api.iextrading.com/1.0",m=function(){return function(n,t){var e=t().symbols.join(",");0!==e.length&&b()({url:"".concat(h,"/stock/market/batch?symbols=").concat(e,"&types=quote&filter=latestPrice"),method:"get"}).then(function(t){var e=t.data;n({type:"REFRESH_ALL_TICKERS",payload:e})}).catch(function(n){})}},v=e(1),g=e(2);function y(){var n=Object(v.a)(["\n  position: fixed;\n  right: 24px;\n  top: 24px;\n  border: 2px solid rgba(0, 0, 0, 0.3);\n  width: 48px;\n  height: 48px;\n  border-radius: 50%;\n  animation: ","ms init infinite;\n"]);return y=function(){return n},n}function x(){var n=Object(v.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-between;\n  padding: 8px;\n"]);return x=function(){return n},n}function O(){var n=Object(v.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  max-width: 768px;\n  width: 100%;\n"]);return O=function(){return n},n}var j=g.a.div(O()),k=g.a.div(x()),E=g.a.div(y(),function(n){return n.refreshInterval});function w(){var n=Object(v.a)(["\n  border: 2px solid rgba(0, 0, 0, 0.7);\n  border-radius: 8px;\n  padding: 8px;\n  font-weight: 700;\n  font-size: 20px;\n  width: 100%;\n"]);return w=function(){return n},n}function S(){var n=Object(v.a)(["\n  font-size: 20px;\n  border: none;\n  border-radius: 8px;\n  min-width: 150px;\n  cursor: pointer;\n  padding: 16px;\n  text-align: center;\n  background: rgba(0, 0, 0, 0.7);\n  color: #fff;\n  font-weight: 700;\n  transition: background 0.3s;\n  border: 2px solid rgba(0, 0, 0, 0.7);\n\n  &:hover {\n    background: rgba(0, 0, 0, 0.5);\n  }\n"]);return S=function(){return n},n}var R=g.a.button(S()),I=g.a.input(w());function P(){var n=Object(v.a)(['\n  position: absolute;\n  top: 16px;\n  right: 8px;\n  width: 16px;\n  height: 16px;\n\n  &::before,\n  &::after {\n    content: "";\n    position: absolute;\n    height: 2px;\n    width: 16px;\n    top: 50%;\n    left: 0;\n    margin-top: -1px;\n    background: #000;\n  }\n\n  &::before {\n    transform: rotate(45deg);\n  }\n\n  &::after {\n    transform: rotate(-45deg);\n  }\n']);return P=function(){return n},n}function T(){var n=Object(v.a)(["\n  margin-top: auto;\n  width: 100%;\n  min-width: initial;\n"]);return T=function(){return n},n}function C(){var n=Object(v.a)(["\n  font-size: 18px;\n  margin-top: 8px;\n  margin-bottom: 16px;\n  font-weight: 300;\n  opacity: 0.5;\n"]);return C=function(){return n},n}function A(){var n=Object(v.a)(["\n  margin-top: 16px;\n  font-weight: 700;\n"]);return A=function(){return n},n}function _(){var n=Object(v.a)(["\n  font-size: 36px;\n  font-weight: 700;\n"]);return _=function(){return n},n}function F(){var n=Object(v.a)(["\n  display: flex;\n  flex-direction: column;\n  font-size: 24px;\n  border-radius: 8px;\n  border: 2px solid #333;\n  padding: 8px;\n  animation: "," 0.3s;\n  max-width: 124px;\n  margin-top: 16px;\n  position: relative;\n\n  @keyframes init {\n    0% {\n      background: rgba(0, 0, 0, 0.5);\n    }\n\n    100% {\n      background: #fff;\n    }\n  }\n\n  @keyframes up {\n    0% {\n      background: rgba(0, 255, 0, 0.3);\n    }\n\n    100% {\n      background: #fff;\n    }\n  }\n\n  @keyframes down {\n    0% {\n      background: rgba(255, 0, 0, 0.3);\n    }\n\n    100% {\n      background: #fff;\n    }\n  }\n"]);return F=function(){return n},n}var K=g.a.div(F(),function(n){return n.status}),L=g.a.div(_()),B=g.a.div(A()),H=g.a.div(C()),N=Object(g.a)(R)(T()),z=g.a.div(P()),D=function(n){function t(){return Object(u.a)(this,t),Object(l.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,n),Object(s.a)(t,[{key:"render",value:function(){var n=this.props,t=n.tickerName,e=n.currPrice,r=n.prevPrice,o=n.refreshTicker,i=n.removeStock;return a.a.createElement(K,{status:void 0===r||r===e?"init":e>r?"up":"down"},a.a.createElement(L,null,t),a.a.createElement(B,null,e),a.a.createElement(H,null,r),a.a.createElement(N,{onClick:function(){return o(t)}},"Refresh"),a.a.createElement(z,{onClick:function(){return i(t)}}))}}]),t}(r.Component);function J(){var n=Object(v.a)(["\n  max-width: 150px;\n  margin-right: 16px;\n  padding: 16px;\n  text-align: center;\n"]);return J=function(){return n},n}function V(){var n=Object(v.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  padding: 8px;\n  padding-bottom: 32px;\n"]);return V=function(){return n},n}var M=g.a.div(V()),W=Object(g.a)(I)(J()),q=function(n){function t(){var n;return Object(u.a)(this,t),(n=Object(l.a)(this,Object(p.a)(t).call(this))).inputSymbol=function(t){n.setState({symbol:t.target.value.toUpperCase()})},n.state={symbol:""},n}return Object(f.a)(t,n),Object(s.a)(t,[{key:"render",value:function(){var n=this,t=this.inputSymbol,e=this.state,r=this.props.addStock;return a.a.createElement(M,null,a.a.createElement(W,{onChange:t,value:e.symbol}),a.a.createElement(R,{onClick:function(){r(e.symbol),n.setState({symbol:""})}},"Add ticker"))}}]),t}(r.Component),G=function(n){function t(){return Object(u.a)(this,t),Object(l.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,n),Object(s.a)(t,[{key:"render",value:function(){var n=this.props,t=n.tickers,e=n.refreshTicker,r=n.addStock,o=n.removeStock,i=t.rates,c=t.symbols,u=t.intervalTimeout;return a.a.createElement(j,null,a.a.createElement(q,{addStock:r}),a.a.createElement(k,null,c.map(function(n){var t=i[n];return a.a.createElement(D,{key:n,tickerName:n,prevPrice:t.prevPrice,currPrice:t.currPrice,refreshTicker:e,removeStock:o})})),a.a.createElement(E,{refreshInterval:u}))}}]),t}(r.Component),U=function(n){try{console.log(n),localStorage.store=JSON.stringify(n)}catch(t){console.log("The browser doesn't support save function.")}},X=function(n){function t(){return Object(u.a)(this,t),Object(l.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,n),Object(s.a)(t,[{key:"componentWillUpdate",value:function(n){U(n.tickers)}},{key:"componentDidMount",value:function(){this.props.setRefreshInterval(2500)}},{key:"render",value:function(){return a.a.createElement(G,this.props)}}]),t}(r.Component),$=Object(c.b)(function(n){return{tickers:n}},{refreshAllTickers:m,refreshTicker:function(n){return function(t){b()({url:"".concat(h,"/stock/").concat(n,"/price"),method:"get"}).then(function(e){var r=e.data;t({type:"REFRESH_TICKER",payload:{data:r,symbol:n}})}).catch(function(n){404===n.response.status?alert("Probably the stock is not exist."):alert("Something go wrong please retry later.")})}},addStock:function(n){return function(t){b()({url:"".concat(h,"/stock/").concat(n,"/price"),method:"get"}).then(function(e){var r=e.data;t({type:"ADD_STOCK",payload:{symbol:n,price:r}})}).catch(function(n){404===n.response.status?alert("Probably the stock is not exist."):alert("Something go wrong please retry later.")})}},removeStock:function(n){return{type:"REMOVE_STOCK",payload:n}},setRefreshInterval:function(n){return function(t,e){var r=e().refreshIntervalId;void 0!==r&&clearInterval(r);var a=setInterval(function(){return t(m())},n);t({type:"SET_REFRESH_INTERVAL",payload:{newRefreshIntervalId:a,intervalTimeout:n}})}}})(X),Q=e(14),Y=e(35),Z=e(36),nn=e(15),tn=e(10),en=function(n){try{return!!localStorage.store&&JSON.parse(localStorage.store)}catch(t){return!1}}()||{rates:{AAPL:{},FB:{},SIG:{},BAX:{}},symbols:["AAPL","FB","SIG","BAX"]};var rn=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:en,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_STOCK":var e=t.payload,r=e.symbol,a=e.price,o=n.rates,i=n.symbols;return-1===i.findIndex(function(n){return n===r})?Object(tn.a)({},n,{rates:Object(tn.a)({},o,Object(nn.a)({},r,{currPrice:a})),symbols:[].concat(Object(Z.a)(i),[r])}):n;case"REMOVE_STOCK":var c=t.payload,u=n.rates,s=n.symbols.filter(function(n){return n!==c}),l={};return s.forEach(function(n){l[n]=u[n]}),Object(tn.a)({},n,{rates:l,symbols:s});case"REFRESH_ALL_TICKERS":var p=t.payload,f=n.symbols,d=n.rates,b={};f.forEach(function(n){var t=p[n].quote.latestPrice,e=d[n],r=e.currPrice,a=e.prevPrice;b[n]={prevPrice:r!==t?r:a,currPrice:t}});var h=Object(tn.a)({},n,{rates:b});return U(h),h;case"REFRESH_TICKER":var m=t.payload,v=m.symbol,g=m.data,y=n.rates;return Object(tn.a)({},n,{rates:Object(tn.a)({},y,Object(nn.a)({},v,{symbol:v,prevPrice:y[v].currPrice!==g?y[v].currPrice:y[v].prevPrice,currPrice:g}))});case"SET_REFRESH_INTERVAL":var x=t.payload,O=x.newRefreshIntervalId,j=x.intervalTimeout;return Object(tn.a)({},n,{refreshIntervalId:O,intervalTimeout:j});default:return n}},an=Object(Q.c)(rn,Object(Q.a)(Y.a));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(c.a,{store:an},a.a.createElement($,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(n){n.unregister()})}},[[38,1,2]]]);
//# sourceMappingURL=main.358b54c1.chunk.js.map